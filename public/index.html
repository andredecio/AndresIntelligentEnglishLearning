<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Custom Firebase Auth App: "AI Learning"</title>
	<!-- Link to your external CSS file -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <h1>Welcome to AI Learning 2!</h1>

    <!-- Authentication Section -->
    <div class="auth-section">
        <h2>Sign In / Sign Up</h2>

        <div id="error-message" style="color: red; margin-bottom: 10px;"></div>

        <!-- Email/Password Authentication -->
        <div>
            <h3>Email and Password</h3>
            <input type="email" id="emailInput" placeholder="Email">
            <input type="password" id="passwordInput" placeholder="Password">
            <button id="signInEmailButton">Sign In with Email</button>
            <button id="signUpEmailButton">Sign Up with Email</button>
        </div>

        <hr>

        <!-- Social Authentication -->
        <div>
            <h3>Social Logins</h3>
            <button id="signInGoogleButton" class="social-button google-button">
                <img src="https://img.icons8.com/color/24/000000/google-logo--v1.png" class="social-icon" alt="Google icon"> Sign In with Google
            </button>
            <button id="signInFacebookButton" class="social-button facebook-button">
                <img src="https://img.icons8.com/ios-filled/24/000000/facebook-new.png" class="social-icon" alt="Facebook icon" style="filter: brightness(0) invert(1);"> Sign In with Facebook
            </button>
        </div>

        <hr>

        <!-- Anonymous Authentication -->
        <div>
            <h3>Anonymous</h3>
            <button id="signInAnonymousButton" class="social-button guest-button">Continue as Guest</button>
        </div>
    </div>

    <!-- User Info and Sign Out Section -->
    <div id="auth-status">
        <p>Authentication Status: <span id="statusMessage">Checking...</span></p>
        <p id="loggedInUserEmail" style="font-weight: bold;"></p>
    </div>

    <button id="signOutButton" hidden style="display: block; margin: 20px auto;">Sign Out</button>

    <div id="login-info" hidden>
        <h2>Login Info:</h2>
        <div id="userInfoDisplay">
            <p><strong>UID:</strong> <span id="userUid"></span></p>
            <p><strong>Email:</strong> <span id="userEmail"></span></p>
            <p><strong>Name:</strong> <span id="userName"></span></p>
            <p><strong>Provider:</strong> <span id="userProvider"></span></p>
        </div>
    </div>

    <!-- Firebase Core SDK (Compat version for Namespaced API) -->
    <!-- It's generally good practice to load firebase-app.js first. -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>

    <!-- Firebase Authentication SDK (Compat version for Namespaced API) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

    <!-- Firebase Analytics SDK (Compat version for Namespaced API) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-analytics-compat.js"></script>

    <!-- Your Firebase Project Configuration -->
    <script>
        // Your Firebase project configuration goes here.
        // Get your API Key and App ID from your Firebase console -> Project settings -> General
        var firebaseConfig = {
			apiKey: "AIzaSyDkV052ef1mAWGnlNqJ7L8L3EE0KdnZHZw",
			authDomain: "enduring-victor-460703-a2.firebaseapp.com",
			projectId: "enduring-victor-460703-a2",
			storageBucket: "enduring-victor-460703-a2.firebasestorage.app",
			messagingSenderId: "190391960875",
			appId: "1:190391960875:web:0585d07fcb53f52755316e",
			measurementId: "G-5ECFS9Z747"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth(); // Get the Auth service instance
        // IMPORTANT: getAnalytics is a Modular function.
        // To use it with the compat libs, you also need to import it explicitly
        // as the 'compat' versions don't automatically expose these modular functions globally.
        // For simple direct browser usage without 'type="module"', you might just use firebase.analytics() if it was available in v8,
        // but getAnalytics is a v9 function.
        // If you truly need getAnalytics with this setup, you'd need to either:
        // 1. Fully migrate to the modular import style for ALL scripts.
        // 2. Or if Firebase.analytics() was exposed globally by the compat library, use that.
        // For now, let's comment it out to resolve the error. If you need it, we can revisit a full modular migration.
        // const analytics = getAnalytics(app); 
    </script>
	<!-- Link to your external JavaScript file -->
	<script src="script.js"></script>
</body>
</html>
